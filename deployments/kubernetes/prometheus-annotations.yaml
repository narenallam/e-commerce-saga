apiVersion: v1
kind: Service
metadata:
  name: order-service
  namespace: e-commerce-saga
  annotations:
    prometheus.io/scrape: "true"
    prometheus.io/path: "/metrics"
    prometheus.io/port: "8000"
spec:
  selector:
    app: order-service
  ports:
    - name: http
      port: 8000
      targetPort: 8000
---
apiVersion: v1
kind: Service
metadata:
  name: inventory-service
  namespace: e-commerce-saga
  annotations:
    prometheus.io/scrape: "true"
    prometheus.io/path: "/metrics"
    prometheus.io/port: "8001"
spec:
  selector:
    app: inventory-service
  ports:
    - name: http
      port: 8001
      targetPort: 8001
---
apiVersion: v1
kind: Service
metadata:
  name: payment-service
  namespace: e-commerce-saga
  annotations:
    prometheus.io/scrape: "true"
    prometheus.io/path: "/metrics"
    prometheus.io/port: "8002"
spec:
  selector:
    app: payment-service
  ports:
    - name: http
      port: 8002
      targetPort: 8002
---
apiVersion: v1
kind: Service
metadata:
  name: shipping-service
  namespace: e-commerce-saga
  annotations:
    prometheus.io/scrape: "true"
    prometheus.io/path: "/metrics"
    prometheus.io/port: "8003"
spec:
  selector:
    app: shipping-service
  ports:
    - name: http
      port: 8003
      targetPort: 8003
---
apiVersion: v1
kind: Service
metadata:
  name: notification-service
  namespace: e-commerce-saga
  annotations:
    prometheus.io/scrape: "true"
    prometheus.io/path: "/metrics"
    prometheus.io/port: "8004"
spec:
  selector:
    app: notification-service
  ports:
    - name: http
      port: 8004
      targetPort: 8004
---
apiVersion: v1
kind: Service
metadata:
  name: saga-coordinator
  namespace: e-commerce-saga
  annotations:
    prometheus.io/scrape: "true"
    prometheus.io/path: "/metrics"
    prometheus.io/port: "9000"
spec:
  selector:
    app: saga-coordinator
  ports:
    - name: http
      port: 9000
      targetPort: 9000 